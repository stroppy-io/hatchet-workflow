syntax = "proto3";

package database;

import "database/picodata.proto";
import "database/postgres.proto";
import "validate/validate.proto";


option go_package = "github.com/stroppy-io/hatchet-workflow/internal/proto/database";

message Database {
    message Template {
        oneof template {
            option (validate.required) = true;
            Postgres.Cluster.Template postgres_cluster = 1;
            Postgres.Instance.Template postgres_instance = 2;
            Picodata.Cluster.Template picodata_cluster = 3;
            Picodata.Instance.Template picodata_instance = 4;
        }
    }
    Template template = 1 [(validate.rules).message.required = true];
    oneof database {
        option (validate.required) = true;
        Postgres.Instance postgres_instance = 2;
        Postgres.Cluster postgres_cluster = 3;
        Picodata.Instance picodata_instance = 4;
        Picodata.Cluster picodata_cluster = 5;
    }
}
